{"version":3,"names":[],"mappings":"","sources":["system.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AreaController = function () {\n  function AreaController($scope, PREF) {\n    _classCallCheck(this, AreaController);\n\n    this.$scope = $scope;\n    this.prefecture = PREF;\n    this.select = {};\n    this.select.prefecture = null;\n    this.select.city = null;\n  }\n\n  _createClass(AreaController, [{\n    key: 'pushInputArea',\n    value: function pushInputArea() {\n      this.$scope.$emit('pushInputArea', this.select);\n    }\n  }]);\n\n  return AreaController;\n}();\n\nexports.default = AreaController;\n\nAreaController.$inject = ['$scope', 'PREF'];\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ConditionController = function () {\n  function ConditionController($scope, CONDITION, DESIRED) {\n    _classCallCheck(this, ConditionController);\n\n    this.$scope = $scope;\n    this.conditions = CONDITION;\n    this.desired = DESIRED;\n    this.select = {\n      condition: null,\n      desired: []\n    };\n  }\n\n  _createClass(ConditionController, [{\n    key: 'pushInputCondition',\n    value: function pushInputCondition() {\n      this.$scope.$emit('pushInputCondition', this.select);\n    }\n  }, {\n    key: 'conditionCheck',\n    value: function conditionCheck(key) {\n      return this.select.condition === key;\n    }\n  }, {\n    key: 'openModal',\n    value: function openModal(modalName) {\n      $('#' + modalName).modal();\n    }\n  }]);\n\n  return ConditionController;\n}();\n\nexports.default = ConditionController;\n\nConditionController.$inject = ['$scope', 'CONDITION', 'DESIRED'];\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RecommendController = function () {\n  function RecommendController($scope, $location, $anchorScroll, SearchService) {\n    var _this = this;\n\n    _classCallCheck(this, RecommendController);\n\n    this.$location = $location;\n    this.$anchorScroll = $anchorScroll;\n    this.SearchService = SearchService;\n    this.loading = false;\n    this.lists = {};\n    this.area = {\n      prefecture: null,\n      city: null\n    };\n    this.money = {\n      monthly: 0,\n      temporary: 0\n    };\n    this.cond = {};\n\n    $scope.$on('pushInputArea', function (event, arg) {\n      _this.area = arg;\n    });\n\n    $scope.$on('pushInputMoney', function (event, arg) {\n      _this.money = arg;\n    });\n\n    $scope.$on('pushInputCondition', function (event, arg) {\n      _this.cond = arg;\n    });\n  }\n\n  _createClass(RecommendController, [{\n    key: 'search',\n    value: function search() {\n      var _this2 = this;\n\n      this.loading = true;\n      $(\"body\").animate({ scrollTop: $(\"#recommend\").offset().top }, \"slow\");\n      this.SearchService.search(this.area, this.money, this.cond).then(function (response) {\n        _this2.lists = response.data;\n        _this2.loading = false;\n      });\n    }\n  }, {\n    key: 'goTop',\n    value: function goTop() {\n      $(\"body\").animate({ scrollTop: 0 }, \"normal\");\n    }\n  }]);\n\n  return RecommendController;\n}();\n\nexports.default = RecommendController;\n\n\nRecommendController.$inject = ['$scope', '$location', '$anchorScroll', 'SearchService'];\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SliderController = function () {\n  function SliderController($scope, $timeout) {\n    var _this = this;\n\n    _classCallCheck(this, SliderController);\n\n    $scope.$on(\"slideEnded\", function (event, arg) {\n      _this.pushInputMoney();\n    });\n\n    this.$scope = $scope;\n    this.incomePension = {};\n    this.incomeAssist = {};\n    this.payTemporary = {};\n    this.payTemporaryMoneys = {};\n\n    this.commonOptions = {\n      translate: this.formatToPrice,\n      showSelectionBar: true,\n      customValueToPosition: function customValueToPosition(val, minVal, maxVal) {\n        val = Math.sqrt(val);\n        minVal = Math.sqrt(minVal);\n        maxVal = Math.sqrt(maxVal);\n        var range = maxVal - minVal;\n        return (val - minVal) / range;\n      },\n      customPositionToValue: function customPositionToValue(percent, minVal, maxVal) {\n        minVal = Math.sqrt(minVal);\n        maxVal = Math.sqrt(maxVal);\n        var value = percent * (maxVal - minVal) + minVal;\n        return Math.pow(value, 2);\n      }\n    };\n\n    this.incomePension = {\n      value: 0,\n      options: angular.extend({\n        floor: 0,\n        ceil: 100,\n        step: 1\n      }, this.commonOptions)\n    };\n\n    this.incomeAssist = {\n      value: 0,\n      options: angular.extend({\n        floor: 0,\n        ceil: 300,\n        step: 1\n      }, this.commonOptions)\n    };\n\n    this.payTemporary = {\n      value: 0,\n      options: angular.extend({\n        floor: 0,\n        ceil: 10000,\n        step: 10\n      }, this.commonOptions)\n    };\n\n    this.temporaryMoney = ['house', 'store', 'stock', 'retire', 'insurance', 'other'];\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = this.temporaryMoney[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var name = _step.value;\n\n        this.payTemporaryMoneys[name] = {\n          value: this.payTemporary.value,\n          options: this.payTemporary.options\n        };\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  _createClass(SliderController, [{\n    key: 'pushInputMoney',\n    value: function pushInputMoney() {\n      var money = {\n        monthly: this.incomePension.value + this.incomeAssist.value,\n        temporary: this.payTemporary.value\n      };\n      this.$scope.$emit('pushInputMoney', money);\n    }\n  }, {\n    key: 'formatToPrice',\n    value: function formatToPrice(value) {\n      return value + '万円';\n    }\n  }, {\n    key: 'openModal',\n    value: function openModal(modalName) {\n      $('#' + modalName).modal();\n    }\n  }, {\n    key: 'calculatePayTemporary',\n    value: function calculatePayTemporary() {\n      this.payTemporary.value = 0;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.temporaryMoney[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var name = _step2.value;\n\n          this.payTemporary.value += this.payTemporaryMoneys[name].value;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this.pushInputMoney();\n    }\n  }]);\n\n  return SliderController;\n}();\n\nexports.default = SliderController;\n\n\nSliderController.$inject = ['$scope', '$timeout'];\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar PREF = exports.PREF = {\n  11: {\n    'name': '千葉県',\n    'city': {\n      1: '舞浜市',\n      2: '船橋市',\n      3: '浦安市'\n    }\n  },\n  12: {\n    'name': '埼玉県',\n    'city': {\n      1: '富士見市',\n      2: '川越市',\n      3: '大宮区'\n    }\n  },\n  13: {\n    'name': '東京都',\n    'city': {\n      1: '西東京市',\n      2: '小平市',\n      3: '国分寺市'\n    }\n  },\n  14: {\n    'name': '神奈川県',\n    'city': {\n      1: '藤沢市',\n      2: '厚木市',\n      3: '鎌倉市'\n    }\n  }\n};\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar CONDITION = exports.CONDITION = {\n  'self': '自立',\n  'support': '要支援',\n  'nurse': '要介護',\n  'dementia': '認知症'\n};\n\nvar DESIRED = exports.DESIRED = ['海が見える', '夫婦部屋あり', '人工透析可能', 'ペットと暮らせる', '温泉あり', '駅から近い'];\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SearchService = function () {\n  function SearchService($http) {\n    _classCallCheck(this, SearchService);\n\n    this.$http = $http;\n  }\n\n  _createClass(SearchService, [{\n    key: 'search',\n    value: function search(area, money, condition) {\n      var req = {\n        method: 'POST',\n        url: '/api/search',\n        data: {\n          area: area,\n          money: money,\n          condition: condition\n        },\n        responseType: 'json'\n      };\n\n      return this.$http(req);\n    }\n  }]);\n\n  return SearchService;\n}();\n\nexports.default = SearchService;\n\nSearchService.$inject = ['$http'];\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nvar _RecommendController = require('./controllers/RecommendController');\n\nvar _RecommendController2 = _interopRequireDefault(_RecommendController);\n\nvar _SliderController = require('./controllers/SliderController');\n\nvar _SliderController2 = _interopRequireDefault(_SliderController);\n\nvar _AreaController = require('./controllers/AreaController');\n\nvar _AreaController2 = _interopRequireDefault(_AreaController);\n\nvar _ConditionController = require('./controllers/ConditionController');\n\nvar _ConditionController2 = _interopRequireDefault(_ConditionController);\n\nvar _SearchService = require('./services/SearchService');\n\nvar _SearchService2 = _interopRequireDefault(_SearchService);\n\nvar _area = require('./definitions/area');\n\nvar _condition = require('./definitions/condition');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// directives\n// ディレクトリ用のオブジェクトをimportする。\n//import ChoParentScrollDisable from './directives/cho_parent_scroll_disable/cho_parent_scroll_disable.js';\n\n// Values\n// バリュー用の変数、オブジェクトをimportする。\n(function () {\n  // appモジュールを定義する\n  var module = angular.module('app', ['rzModule', 'checklist-model']);\n\n  // Contorller\n  // モジュールにコントローラーを定義する。\n  module.controller('RecommendController', _RecommendController2.default);\n  module.controller('SliderController', _SliderController2.default);\n  module.controller('AreaController', _AreaController2.default);\n  module.controller('ConditionController', _ConditionController2.default);\n\n  // Value\n  // モジュールにPREFバリューを定義する。\n  module.value('PREF', _area.PREF);\n  module.value('CONDITION', _condition.CONDITION);\n  module.value('DESIRED', _condition.DESIRED);\n\n  // Service\n  //モジュールにサービスを定義する。\n  module.service('SearchService', _SearchService2.default);\n\n  // Directive\n  // モジュールにchoParentScrollDisableディレクティブを定義する\n  //module.directive('choParentScrollDisable', ChoParentScrollDisable);\n})();\n\n// Services\n// サービス用のclassオブジェクトをimportする。\n// Controllers\n// コントローラー用のclassオブジェクトをimportする。\n\n},{\"./controllers/AreaController\":1,\"./controllers/ConditionController\":2,\"./controllers/RecommendController\":3,\"./controllers/SliderController\":4,\"./definitions/area\":5,\"./definitions/condition\":6,\"./services/SearchService\":7}]},{},[8]);\n"],"file":"system.js"}